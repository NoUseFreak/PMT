{% extends "PMTWebBundle::layout.html.twig" %}

{% block content_title %}Edit {{ project.name }}{% endblock %}

{% block head_additions %}
    <script type="text/javascript" src="{{ asset('bundles/pmtweb/vendor/bootstrap-datepicker/bootstrap-datepicker.js') }}"></script>
    <link rel="stylesheet" href="{{ asset('bundles/pmtweb/vendor/bootstrap-datepicker/datepicker.css') }}"/>
{% endblock %}

{% block content_actions %}
{% endblock %}

{% block content %}
    <form action="{{ path('pmtweb_project_edit', {'projectCode': project.code}) }}" method="post" {{ form_enctype(form) }}>

        <div class="row">
            <div class="tabbable tabs-left">
                <ul class="nav nav-pills nav-stacked col-lg-2">
                    <li class="active">
                        <a href="#details" data-toggle="tab">Details</a>
                    </li>
                    <li>
                        <a href="#people" data-toggle="tab">People</a>
                    </li>
                    <li>
                        <a href="#workflow" data-toggle="tab">Workflow</a>
                    </li>
                    <li>
                        <a href="#milestones" data-toggle="tab">Milestones</a>
                    </li>
                </ul>


                <div class="tabs-container col-lg-10">

                    {{ form_errors(form) }}

                    <div class="tab-content">
                        <div class="tab-pane active" id="details">
                            {% include 'PMTWebBundle:Project:editForm_details.html.twig' with {'form': form} %}
                        </div>
                        <div class="tab-pane" id="people">
                            {% include 'PMTWebBundle:Project:editForm_people.html.twig' with {'form': form} %}
                        </div>

                        <div class="tab-pane" id="workflow">
                            {% include 'PMTWebBundle:Project:editForm_workflow.html.twig' with {'form': form} %}
                        </div>

                        <div class="tab-pane" id="milestones">
                            {% include 'PMTWebBundle:Project:editForm_milestones.html.twig' with {'form': form} %}
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="form-actions">
                    <div class="form-horizontal">
                        <div class="pull-right">
                            <button type="submit" class="btn btn-primary">Save changes</button>
                            <button type="button" class="btn" onclick="window.history.back();">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>
            {{ form_rest(form) }}
        </div>
    </form>
{% endblock %}

{% block body_scripts %}
    {% javascripts
    '@PMTWebBundle/Resources/public/js/projectForm.js' %}
    <script src="{{ asset_url }}"></script>
    {% endjavascripts %}
{% endblock %}
