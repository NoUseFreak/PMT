{% extends "PMTWebBundle::layout.html.twig" %}

{% block content %}
    <div class="row">
        <div class="span8">
            <nav>
                <p>
                </p>
            </nav>
            <h1>Issues</h1>
        </div>
        <div class="span4">
            <ul class="actions nav nav-pills pull-right">
                <li class="active">
                    <a href="{{ path('issue_form') }}"><i class="icon-edit icon-plus"></i> Create issue</a>
                </li>
            </ul>
        </div>
    </div>
    <form action="" class="issue-nagivator row">
        <div class="span3">
            <div class="accordion">
                <div class="accordion-group">
                    <div class="accordion-heading">
                        <a class="accordion-toggle" data-toggle="collapse" href="#accordion_people">
                            Search
                        </a>
                    </div>
                    <div id="accordion_people" class="accordion-body collapse in">
                        <div class="accordion-inner">
                            <div class="control-group">
                                <div class="control-label hide">
                                    Search
                                </div>
                                <div class="controls row-fluid">
                                    <input type="text" class="span12"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="accordion">
                <div class="accordion-group">
                    <div class="accordion-heading">
                        <a class="accordion-toggle" data-toggle="collapse" href="#accordion_people">
                            Project
                        </a>
                    </div>
                    <div id="accordion_people" class="accordion-body collapse in">
                        <div class="accordion-inner">
                            <div class="control-group">
                                <div class="control-label hide">
                                    Project
                                </div>
                                <div class="controls row-fluid">
                                    <select class="span12" name="project" id="">
                                        <option>All</option>
                                        <option value="">Notifier</option>
                                        <option value="">PMT</option>
                                    </select>
                                </div>
                            </div>
                            <div class="control-group">
                                <div class="control-label hide">
                                    Milestone
                                </div>
                                <div class="controls row-fluid">
                                    <select class="span12" name="milestone" id="">
                                        <option>All</option>
                                        <option value="">Notifier</option>
                                        <option value="">PMT</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="accordion">
                <div class="accordion-group">
                    <div class="accordion-heading">
                        <a class="accordion-toggle" data-toggle="collapse" href="#accordion_owner">
                            Owner
                        </a>
                    </div>
                    <div id="accordion_owner" class="accordion-body collapse in">
                        <div class="accordion-inner">

                            <ul data-toggle="buttons-radio" class="row-fluid filter-owner">
                                <li>
                                    <button type="button" class="span12 btn btn-primary active">Everyone's issues</button>
                                    <input type="radio" name="owner" value="all" class="hide" checked="checked"/>
                                </li>
                                <li>
                                    <button type="button" class="span12 btn btn-primary">Assigned to you</button>
                                    <input type="radio" name="owner" value="assigned" class="hide"/>
                                </li>
                                <li>
                                    <button type="button" class="span12 btn btn-primary">Created by you</button>
                                    <input type="radio" name="owner" value="created" class="hide"/>
                                </li>
                            </ul>

                        </div>
                    </div>
                </div>
            </div>

            <div class="row-fluid">
                <input type="submit" class="hide"/>
            </div>
        </div>
        <div class="span9">
            <div class="accordion filters">
                <div class="accordion-group">
                    <div class="accordion-heading">
                        <a class="accordion-toggle" data-toggle="collapse" href="#accordion_filter">
                            Filter
                        </a>
                    </div>
                    <div id="accordion_filter" class="accordion-body collapse in form-inline">
                        <div class="accordion-inner">
                            <div class="control-group">
                                <label class="control-label">
                                    Status
                                </label>
                                <div class="controls inline">
                                    <div class="btn-group" data-toggle="buttons-radio">
                                        <button type="button" class="btn btn-primary">Left</button>
                                        <button type="button" class="btn btn-primary">Middle</button>
                                        <button type="button" class="btn btn-primary">Right</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>

{% endblock %}


{% block body_scripts %}
    <script type="text/javascript">
        $(function() {
            $('select').select2().on('change', function() {
                $('form.issue-nagivator').submit();
            });
            $('.filter-owner').on('click', 'button', function() {
                $(this).next('input').click();
                $('form.issue-nagivator').submit();
            });

        });
    </script>
{% endblock %}
